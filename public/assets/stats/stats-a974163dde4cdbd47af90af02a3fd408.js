var chart1,chart2;$(document).ready(function(){var e=["#33aa33","#cccc33","#ff7733","#ff3333","#666677","#222233"],t=["#222233","#666677","#ff3333","#ff7733","#cccc33","#33aa33"];chart1=new Highcharts.Chart({chart:{renderTo:"pie_chart",type:"pie",plotBackgroundColor:"#eff4f9",plotBorderWidth:null,plotShadow:!1},colors:e,title:{text:"Current State"},subtitle:{text:lastStat.date_str},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y}},plotOptions:{pie:{dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y}}}},series:[{type:"pie",name:"Browser share",data:[["Accepted",lastStat.accepted],["Delivered",lastStat.delivered],["Finished",lastStat.finished],["Active",lastStat.started+lastStat.rejected],["Not Yet Started",lastStat.unscheduled],["Not Yet Received",lastStat.unreceived]]}]});var n=[],r=[],i=[],s=[],o=[],u=[],a=[];for(var f=0;f<stats.length;f++){console.log(l);var l=stats[f];n.push(l.date_str),r.push(l.accepted),i.push(l.delivered),s.push(l.finished),o.push(l.started+l.rejected),u.push(l.unscheduled),a.push(l.unreceived)}chart2=new Highcharts.Chart({chart:{renderTo:"stacked_area",type:"area"},colors:t,title:{text:"Stats History"},xAxis:{categories:n},yAxis:{title:{text:"Number"}},tooltip:{formatter:function(){return""+this.series.name+": "+Highcharts.numberFormat(this.y,0,",")}},plotOptions:{area:{stacking:"normal",lineColor:"#666666",lineWidth:1,marker:{lineWidth:1,lineColor:"#666666"}}},series:[{name:"Not Yet Received",data:a},{name:"Not Yet Started",data:u},{name:"Active",data:o},{name:"Finished",data:s},{name:"Delivered",data:i},{name:"Accepted",data:r}]})});