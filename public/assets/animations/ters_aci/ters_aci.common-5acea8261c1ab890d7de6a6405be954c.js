var OppositeAngles=function(e){this.animate=Item.prototype.animate,this.angle=e.angle,e.phase?this.phase=e.phase:this.phase=0,e.radius?this.radius=e.radius:this.radius=145,this.centerPoint=e.center,this.draggable=e.draggable?e.draggable:!0,e.textPosition&&(this.textPosition=e.textPosition),this.angles=[],this.angles[0]=new Angle({angle:this.angle,phase:this.phase,center:this.centerPoint}),this.angles[1]=new Angle({angle:180-this.angle,phase:this.angle+this.phase,center:this.centerPoint,isNeighbour:!0}),this.angles[2]=new Angle({angle:this.angle,phase:180+this.phase,center:this.centerPoint}),this.angles[3]=new Angle({angle:180-this.angle,phase:180+this.phase+this.angle,center:this.centerPoint,isNeighbour:!0}),this.angles[0].setSuplement(this.angles[1]),this.angles[2].setSuplement(this.angles[3]);for(var t=0;t<this.angles.length;t++)this.angles[t].ownerOppositeAngle=this,this.angles[t]._draw=Angle.prototype.draw,this.angles[t]._redraw=Angle.prototype.redraw,this.angles[t].radius=this.radius;this.angles[0].redraw=function(e){this.ownerOppositeAngle.redraw(this,e)},this.angles[2].redraw=function(e){this.ownerOppositeAngle.redraw(this,e)}};OppositeAngles.prototype.setAngle=function(e){this.angle=e},OppositeAngles.prototype.draw=function(){this.angles[2]._draw(this.draggable),this.angles[0]._draw(this.draggable)},OppositeAngles.prototype.redraw=function(e,t){function s(e,t){function n(e,t,n){var r=new Group,i=new Path.Circle(e,3);i.set_style({fillColor:"#000"});var s=new PointText(e.findPointTo(t.getRotatedPoint(-90,e),15).add(0,8));return s.content=n,s.justification="center",s.set_style(OppositeAngles.letterTextStyle),r.addChild(i),r.addChild(s),r}var r=e.firstLegPoint.findPointTo(e.centerPoint,25,!0),i=e.secondLegPoint.findPointTo(e.centerPoint,25,!0),s=new Group;return s.addChild(n(r,e.firstLegPoint,t[0])),s.addChild(n(i,e.secondLegPoint,t[1])),s}e._redraw(t);var n=this.angles[0]==e?2:0;this.angles[n]._redraw(e.angle);for(var r=0;r<this.angles.length;r++)var i=new Path.Circle;this.letters&&this.letters.remove(),this.letters=new Group,this.letters.addChild(s(this.angles[0],["D","A"])),this.letters.addChild(s(this.angles[2],["C","B"]));var o=new Group,u=new Path.Circle(this.centerPoint,3);u.set_style({fillColor:"#000"});var a=new PointText(this.centerPoint.add(4,-7));a.content="O",a.justification="center",a.set_style(OppositeAngles.letterTextStyle),o.addChild(u),o.addChild(a),this.letters.addChild(o)};