function UnitCube(e,t,n){this.x=e,this.y=t,this.z=n,this.draw=function(e,t,n,r){return this.shape&&this.shape.remove(),this.shape=new Path.Cube(e,t,new Point(n.xZ,n.yZ)),r?this.shape.set_style(r):this.shape.set_style(cubeStyle),this.shape}}UnitCube.compare=function(e,t){return e.z>t.z?1:e.z<t.z?-1:e.y>t.y?1:e.y<t.y?-1:e.x>t.x?1:e.x<t.x?-1:0},UnitCube.drawCubes=function(e,t,n,r,i){e.sort(UnitCube.compare);for(var s=0;s<e.length;s++){var o=t.add(Math.floor(e[s].x*n)+.5,Math.floor(-e[s].y*n)+.5);o=o.add(Math.floor(-e[s].z*n*r.xZ),Math.floor(e[s].z*n*r.yZ)),e[s].draw(o,n,r,i)}},UnitCube.explode=function(e,t,n,r,i){e.sort(UnitCube.compare);for(var s=0;s<e.length;s++){var o=t.add(e[s].x*n,-e[s].y*n);o=o.add(-e[s].z*n*i.xZ,e[s].z*n*i.yZ),o=o.add(r*e[s].x,0),o=o.add(0,-r*e[s].y),o=o.add(-e[s].z*r*i.xZ,e[s].z*r*i.yZ),o=new Point(Math.floor(o.x)+.5,Math.floor(o.y)+.5),e[s].draw(o,n,i)}};