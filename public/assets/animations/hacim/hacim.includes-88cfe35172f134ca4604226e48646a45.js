function __Styles(){cubeStyle={strokeColor:"#255b63",strokeWidth:1,fillColor:"#bfe8ef"},animationCubeStyle={strokeColor:"#666",strokeWidth:1,fillColor:"#ddd"}}function UnitCube(e,t,n){this.x=e,this.y=t,this.z=n,this.draw=function(e,t,n,r){return this.shape&&this.shape.remove(),this.shape=new Path.Cube(e,t,new Point(n.xZ,n.yZ)),r?this.shape.set_style(r):this.shape.set_style(cubeStyle),this.shape}}UnitCube.compare=function(e,t){return e.z>t.z?1:e.z<t.z?-1:e.y>t.y?1:e.y<t.y?-1:e.x>t.x?1:e.x<t.x?-1:0},UnitCube.drawCubes=function(e,t,n,r,i){e.sort(UnitCube.compare);for(var s=0;s<e.length;s++){var o=t.add(Math.floor(e[s].x*n)+.5,Math.floor(-e[s].y*n)+.5);o=o.add(Math.floor(-e[s].z*n*r.xZ),Math.floor(e[s].z*n*r.yZ)),e[s].draw(o,n,r,i)}},UnitCube.explode=function(e,t,n,r,i){e.sort(UnitCube.compare);for(var s=0;s<e.length;s++){var o=t.add(e[s].x*n,-e[s].y*n);o=o.add(-e[s].z*n*i.xZ,e[s].z*n*i.yZ),o=o.add(r*e[s].x,0),o=o.add(0,-r*e[s].y),o=o.add(-e[s].z*r*i.xZ,e[s].z*r*i.yZ),o=new Point(Math.floor(o.x)+.5,Math.floor(o.y)+.5),e[s].draw(o,n,i)}};var Animation={images:[],init:function(e){Main.animationProject.activeLayer.removeChildren(),Animation.container=e,Animation.xZ=.4,Animation.yZ=.5;var t=$(e).width(),n=$(e).height(),r=100,i=20;Animation.shapePosition=new Point(100,10),Animation.a=30;var s=new Point(350.5,100.5),o=new Group;o.addChild((new UnitCube(0,0,0)).draw(s,30,{xZ:.4,yZ:.5},{strokeColor:"#000",fillColor:"#ddd"})),o.addChild(new PointText(s.add(45,10))),o.addChild(new PointText(s.add(45,45))),o.addChild(new PointText(s.add(15,60))),o.children[1].content="1 cm",o.children[2].content="1 cm",o.children[3].content="1 cm",o.animate({style:{},duration:1,delay:2e3,callback:o.remove}),Animation.animateShape({fillDelay:2500,xCube:7,yCube:2,zCube:4,shapeName:"Dikdörtgenler prizmasının",callback:function(){Main.animationProject.activeLayer.removeChildren(),$("div.hacim",Animation.container).remove(),Animation.shapePosition=Animation.shapePosition.add(30,0),Animation.animateShape({xCube:6,yCube:3,zCube:3,shapeName:"Kare prizmanın",callback:function(){Main.animationProject.activeLayer.removeChildren(),$("div.hacim",Animation.container).remove(),Animation.shapePosition=Animation.shapePosition.add(70,0),Animation.animateShape({xCube:3,yCube:3,zCube:3,shapeName:"Küpün"})}})}}),Main.animationFinished(5e3)},animateShape:function(e){e.fillDelay||(e.fillDelay=0),Animation.rectPrizm=(new Path.RectanglePrisim(Animation.shapePosition,new Size(e.xCube*Animation.a,e.yCube*Animation.a),new Size(e.zCube*Animation.xZ*Animation.a,e.zCube*Animation.yZ*Animation.a))).set_style({strokeWidth:2,strokeColor:"#000"}),Animation.zeroPoint=Animation.shapePosition.add((e.zCube-1)*Animation.xZ*Animation.a,(e.yCube-1)*Animation.a);var t=[];for(var n=0;n<e.xCube;n++)for(var r=0;r<e.yCube;r++)for(var i=0;i<e.zCube;i++)t.push(new UnitCube(n,r,i));var s=document.createElement("div");s.className="hacim",$(Animation.container).append(s),$(s).css({position:"absolute",top:"50px",right:"150px",lineHeight:"30px",textAlign:"center",fontSize:"16px"}).html(e.shapeName+' <br/> hacmi <br/> <span id="count" style="font-weight:bold"></span> birim küptür.'),Animation.countSpan=$("span#count",s).get(0),UnitCube.drawCubes(t,Animation.zeroPoint,Animation.a,Animation,animationCubeStyle),t[0].shape.insertBelow(Animation.rectPrizm.children[4]);for(var n=0;n<t.length;n++)t[n].shape.opacity=0,n>0&&t[n].shape.insertAbove(t[n-1].shape),t[n].shape.__i=n+1,t[n].shape.animate({style:{opacity:1},duration:1,delay:n*100+e.fillDelay,callback:function(){$(Animation.countSpan).html(this.__i)}});AnimationManager.delay(e.callback,t.length*100+3e3+e.fillDelay),(new PointText(Animation.shapePosition.add(e.xCube*Animation.a+e.zCube*Animation.xZ*Animation.a+10,e.yCube*Animation.a*.5+10))).animate({style:{},duration:t.length*100+e.fillDelay,callback:function(){this.content=e.yCube+" cm"}}),(new PointText(Animation.shapePosition.add(e.xCube*Animation.a+30,e.yCube*Animation.a+40))).animate({style:{},duration:t.length*100+e.fillDelay,callback:function(){this.content=e.zCube+" cm"}}),(new PointText(Animation.shapePosition.add(e.xCube*Animation.a*.5,e.yCube*Animation.a+e.zCube*Animation.yZ*Animation.a+15))).animate({style:{},duration:t.length*100+e.fillDelay,callback:function(){this.content=e.xCube+" cm"}})}},Interaction={getFramework:function(){return"paper"},images:[],init:function(e){Interaction.container=e,Main.setObjective("Yandaki dikdörtgenler prizmasının hacmini bulunuz ve kontrol ediniz."),Interaction.paper={width:$(e).width(),height:$(e).height()},Interaction.appendButton({bottom:"20px",right:"40px"}),Interaction.appendStatus({bottom:"30px",right:"150px"}),Interaction.appendInput({position:"static"}),Interaction.appendQuestion("H = ",{position:"absolute",right:"50px",top:"120px"}),$(Interaction.questionDiv).append(Interaction.input).append(" cm<sup>3</sup>"),Interaction.prepareNextQuestion()},nextQuestion:function(e){Main.interactionProject.activeLayer.removeChildren(),Interaction.sizes={xCube:Util.randomInteger(3,10),yCube:Util.randomInteger(3,7),zCube:Util.randomInteger(3,7)},Interaction.unitSize=25,Interaction.referencePoint=new Point(200,130);var t=new Size(Interaction.sizes.xCube*Interaction.unitSize,Interaction.sizes.yCube*Interaction.unitSize),n=new Size(Interaction.sizes.zCube*.4*Interaction.unitSize,Interaction.sizes.zCube*.3*Interaction.unitSize);Interaction.referencePoint=Interaction.referencePoint.subtract(t.width*.5,t.height*.5),Interaction.referencePoint=Interaction.referencePoint.subtract(n.width*.5,n.height*.5),Interaction.rectPrisim=new Path.RectanglePrisim(Interaction.referencePoint.floor(),t,n),Interaction.rectPrisim.set_style({strokeWidth:2,strokeColor:"#000",fillColor:new RgbColor(.65,.83,.89,.7)}),(new PointText(Interaction.referencePoint.add(t.width+n.width+10,t.height*.5+10))).content=Interaction.sizes.yCube+" cm",(new PointText(Interaction.referencePoint.add(t.width+n.width*.5+10,t.height+n.height*.5+10))).content=Interaction.sizes.zCube+" cm",(new PointText(Interaction.referencePoint.add(t.width*.5+10,t.height+n.height+20))).content=Interaction.sizes.xCube+" cm"},preCheck:function(){},isAnswerCorrect:function(e){return e==Interaction.sizes.xCube*Interaction.sizes.yCube*Interaction.sizes.zCube},onCorrectAnswer:function(){},onWrongAnswer:function(){},onFail:function(){Interaction.setStatus("Yanlış. Doğru cevap: H = "+Interaction.sizes.xCube+" . "+Interaction.sizes.yCube+" . "+Interaction.sizes.zCube+" = "+Interaction.sizes.xCube*Interaction.sizes.yCube*Interaction.sizes.zCube+" cm<sup>3</sup>",!1)}};