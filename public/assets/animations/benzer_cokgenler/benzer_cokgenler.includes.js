function __Styles(){}function InteractiveGrids(e){this.id=InteractiveGrids.GetId(),this.size=e.size,this.position=e.position,this.style=e.style,this.points=[];for(var t=0;t<=8;t++)(new Path.Line(this.position.add(0,this.size*t),this.position.add(this.size*8,this.size*t))).set_style(this.style),(new Path.Line(this.position.add(this.size*t,0),this.position.add(this.size*t,this.size*8))).set_style(this.style);for(var t=0;t<=8;t++)for(var n=0;n<=8;n++){var r=this.position.add(this.size*t,this.size*n),i=new Path.Circle(r,this.size*.3);i.set_style({fillColor:new RgbColor(1,1,1,0)}),i.class="InteractiveGridCircles"+this.id}return this}InteractiveGrids.prototype.drawShape=function(e){this.path=new Path,this.path.set_style(this.style).set_style({strokeWidth:3,strokeCap:"butt",strokeColor:"#f00"});if(e){for(var t=0;t<e.length;t++){var n=e[t].multiply(this.size,this.size).add(this.position);this.points.push(n),this.path.add(n)}this.path.closed=!0}return this},InteractiveGrids.prototype.createTool=function(){var e=new Tool,t=this;return e.onMouseDown=function(e){e.item&&e.item.class=="InteractiveGridCircles"+t.id?(e.item.set_style({}),t.path.add(e.item.position),e.item.class="SelectedGridCircles",t.points.push(e.item.position),e.item.insertAbove(t.path)):e.item&&e.item.class=="SelectedGridCircles"&&t.points.length>2&&(t.path.closed=!0,this.remove())},e.activate(),this},InteractiveGrids.CreateShape=function(e){var t=[],n=new Point(1,1),r=new Point(0,0);switch(e){case 0:t.push(new Point(1,0)),t.push(new Point(0,2)),t.push(new Point(3,2)),n=new Point(Util.randomInteger(1,3),Util.randomInteger(1,3)),r=new Point(Util.randomInteger(1,3),Util.randomInteger(1,3))}for(var i=0;i<t.length;i++)t[i]=t[i].multiply(n).add(r);return t},InteractiveGrids.AreShapesSimilar=function(e,t){if(e.length!=t.length)return!1;var n=1e-5;for(var r=0;r<e.length+1;r++){var i=!0,s=undefined;for(var o=0;o<e.length+1;o++){var u=(o+r)%e.length,a=(u+1)%e.length,f=e[o%e.length].getDistance(e[(o+1)%e.length],!0)/t[u].getDistance(t[a],!0);s==undefined&&(s=f);if(s+n<f||s-n>f)i=!1}if(i==1)return!0}for(var r=0;r<e.length+1;r++){var i=!0,s=undefined;for(var o=e.length+1;o>=0;o--){var u=(o+r+e.length)%e.length,a=(u-1+e.length)%e.length,f=e[(o+e.length)%e.length].getDistance(e[(o-1+e.length)%e.length],!0)/t[u].getDistance(t[a],!0);s==undefined&&(s=f);if(s+n<f||s-n>f)i=!1}if(i==1)return!0}return!1},InteractiveGrids.GetId=function(){return InteractiveGrids.order?InteractiveGrids.order++:(InteractiveGrids.order=1,InteractiveGrids.GetId())};var Animation={images:[],init:function(e){Animation.container=e}},Interaction={getFramework:function(){return"paper"},images:[],init:function(e){Interaction.container=e,Main.setObjective(""),Interaction.paper={width:$(e).width(),height:$(e).height()},Interaction.appendButton({bottom:"00px",right:"40px"}),Interaction.appendStatus({bottom:"10px",right:"150px"}),Interaction.setRandomGenerator(16),Interaction.prepareNextQuestion()},nextQuestion:function(e){e=0,Interaction.masterGrid=(new InteractiveGrids({position:new Point(10.5,10.5),size:30,style:{strokeColor:"#000"}})).drawShape(InteractiveGrids.CreateShape(e)),Interaction.slaveGrid=(new InteractiveGrids({position:new Point(300.5,10.5),size:18+e%4*4,style:{strokeColor:"#666"}})).drawShape().createTool()},preCheck:function(){},isAnswerCorrect:function(e){return InteractiveGrids.AreShapesSimilar(Interaction.masterGrid.points,Interaction.slaveGrid.points)},onCorrectAnswer:function(){},onWrongAnswer:function(){},onFail:function(){}};