function Triangle(e,t,n,r,i,s,o){this.i=e,this.j=t,this.k=n,this.p1={x:0,y:0},this.p2={x:0,y:0},this.p3={x:0,y:0},this.a1=null,this.a2=null,this.a3=null;var u=Math.min(s,o),a=u/Math.max(e,t,n);this.p1.x=r,this.p1.y=i+u,this.p2.x=this.p1.x+this.i*a,this.p2.y=this.p1.y;var u=Math.acos((this.i*this.i+this.k*this.k-this.j*this.j)/(2*this.i*this.k));return this.p3.x=this.p1.x+Math.cos(u)*n*a,this.p3.y=this.p1.y-Math.sin(u)*n*a,new Path.Triangle(this.p1,this.p2,this.p3)}function pentagon(e,t){var n=[10,70,150,200,300];return new Path.EquiradialPolygon(e,t,n)}function regularpentagon(e,t){return new Path.RegularPolygon(e,t,5)}function hexagon(e,t){var n=[10,50,100,150,200,300];return new Path.EquiradialPolygon(e,t,n)}function regularhexagon(e,t){return new Path.RegularPolygon(e,t,6)}var start=function(){this.ox=this.position.x,this.oy=this.position.y,this.hitShape=null,this.odx=0,this.ody=0;var e=$(Interaction.container).offset();this.s_left=e.left,this.s_top=e.top,this.inDropableShape=!1;if(this.preventDrag==null||this.preventDrag=="undefined")this.preventDrag=!1;return!0},move=function(e,t,n,r){if(this.preventDrag==1)return;this.odx+=e,this.ody+=t,Interaction.dropableShapes.setImage("dropable_default"),this.position=[this.position.x+e,this.position.y+t];var i=Interaction.dropableShapes.hitTest(new Point(n,r));return i?(this.inDropableShape=!0,this.hitShape=i,this.hitShape.setImage($("#dropable_hover").get(0))):(this.inDropableShape=!1,this.hitShape=null),!0},up=function(){if(this.preventDrag==1)return;this.preventDrag=!0,Interaction.dropableShapes.setImage("dropable_default");var e=!1;this.inDropableShape==1?this.hitShape.numberOfEdges===this.numberOfEdges?(this.opacityX=1,this.scaleRatio=.9,this.animate({style:{opacityX:-0.3,scaleRatio:1},duration:500,update:function(){this.opacityX<.7&&(this.opacity=this.opacityX+.3),this.scale(this.scaleRatio)},callback:this.remove}),this.class=null,this.hitShape.setImage($("#dropable_true").get(0)),setTimeout(function(){Interaction.dropableShapes.setImage("dropable_default")},400)):(e=!0,this.hitShape.setImage($("#dropable_false").get(0)),setTimeout(function(){Interaction.dropableShapes.setImage("dropable_default")},400)):e=!0;if(e==1){var t=Math.sqrt(this.odx*this.odx+this.ody*this.ody),n=1,r=t/n;this.animate({style:{position:new Point(this.ox,this.oy)},duration:r,callback:this.callback})}var i=!1;for(var s=0;s<Interaction.shapes.length;s++)Interaction.shapes[s].class=="draggable"&&(i=!0);i==0&&Interaction.setStatus('<span style="position:relative;top:10px" class="status_true">Tebrikler bütün çokgenleri doğru şekilde sınıflandırdınız.</span>&emsp;<input type="button" onclick="Interaction.init(Interaction.container);"  class="repeat_button"/>')};generateRandomShapes=function(e,t,n,r){Interaction.shapes=[];var i=n*.25,s=r*.25;Interaction.shapeCount=-1;do{var o,u,a,f,l=findSpace(n,r);o=l.x+e,u=l.y+t,Interaction.shapeType=Math.floor(Math.random()*6),a=i*.7,f=s*.7;var c={},h,p=12;Interaction.shapeCount++,Interaction.shapeCount=Interaction.shapeCount%p;if(Interaction.shuffledArray==null||Interaction.shuffledArray==undefined)Interaction.shuffledArray=Util.getShuffledArray(p);Interaction.shapeType=Interaction.shuffledArray[Interaction.shapeCount];switch(Interaction.shapeType){case 0:f=a=Math.min(a,f),c=new Path.Rectangle(new Point(o,u),new Size(a,f)),h=4;break;case 1:var d,v,m;d=v=m=5,c=new Triangle(d,v,m,o,u,a,f),h=3;break;case 2:c=regularpentagon(new Point(o,u),new Size(a,f)),h=5;break;case 3:c=hexagon(new Point(o,u),new Size(a,f)),h=6;break;case 4:c=new Path.Rhomboid(new Point(o,u+f*.1),new Size(a*.8,f*.7),a*.2),h=4;break;case 5:c=new Path.Rhombus(new Point(o,u+f*.1),new Size(a,f*.7)),h=4;break;case 6:f=a=Math.min(a,f);while(f==a||f>s)f=-Math.floor(Math.random()*3)*30+a+30;c=new Path.Rectangle(new Point(o,u+10),new Size(a,f)),h=4;break;case 7:var d,v,m;m=5,d=3,v=4,c=new Triangle(d,v,m,o,u,a,f),h=3;break;case 8:c=pentagon(new Point(o,u),new Size(a,f)),h=5;break;case 9:c=regularhexagon(new Point(o,u),new Size(a,f)),h=6;break;case 10:var d,v,m;d=v=m=5,d=6,v=8,c=new Triangle(d,v,m,o+5,u-15,a,f),h=3;break;case 11:var d,v,m;d=v=m=5,d=4,v=3,c=new Triangle(d,v,m,o,u-15,a,f),h=3}c.numberOfEdges=h,c.class="draggable",c.style=shapeStyle,c.start=start,c.move=move,c.up=up,c.callback=function(){this.preventDrag=!1},c.order=Interaction.shapes.length,Interaction.shapes.push(c)}while(Interaction.shapes.length<12)},createDropableShape=function(e,t,n,r,i){var s=new Raster("dropable_default");s.position=new Point(e,t),s.class="dropableShape";var o=new PointText(new Point(e+1,t+6));o.set_style(textStyle),o.fillColor="#2f4f54",o.content=i;var o=new PointText(new Point(e,t+5));return o.set_style(textStyle),o.content=i,s},createDropableShapesLeft=function(e,t,n,r){var i,s,o,u,a;w=n*.9,h=n*.8,i=e+n*.5,s=t+(r-h)*.5,Interaction.dropableShapes.triangle=createDropableShape(i,s,w,h,"Üçgen"),Interaction.dropableShapes.triangle.numberOfEdges=3,Interaction.dropableShapes.rectangle=createDropableShape(i,s+h*1.2,w,h,"Dörtgen"),Interaction.dropableShapes.rectangle.numberOfEdges=4},createDropableShapesRight=function(e,t,n,r){var i,s,o,u,a;a=Math.min(n,r),w=a*.9,h=a*.8,i=e+n*.5,s=t+(r-h)*.5,Interaction.dropableShapes.pentagon=createDropableShape(i,s,w,h,"Beşgen"),Interaction.dropableShapes.pentagon.numberOfEdges=5,Interaction.dropableShapes.hexagon=createDropableShape(i,s+h*1.2,w,h,"Altıgen"),Interaction.dropableShapes.hexagon.numberOfEdges=6},findSpace=function(e,t){var n=Interaction.shapes.length,r={x:Math.floor(n%4)*e*.25,y:Math.floor(n/4)*t*.3};return r},setStatus=function(e){$(Interaction.status).hide(),Interaction.status.innerHTML=e,$(Interaction.status).show()};