function extricatePoints(e){var t=[];for(var n=0;n<e.length;n++)t.push(e[n].p);return t}var Interaction={getFramework:function(){return"paper"},images:[{id:"resizeImage",src:"/assets/animations/benzerlik/resize.png"}],init:function(e){Interaction.container=e,Main.setObjective("Yandaki şeklin, bir köşesinden tutarak büyütüp ya da küçültüp benzerini elde edebilirsiniz."),Interaction.paper={width:$(e).width(),height:$(e).height()},Interaction.appendButton({bottom:"40px",right:"40px"}),Interaction.appendStatus({bottom:"50px",right:"150px"}),Interaction.size=30,Interaction.referencePoint=new Point(10,10),Interaction.boundary=new Path.Rectangle(Interaction.referencePoint,new Size(400,270)),Interaction.boundary.set_style(interactionBoundaryStyle),Interaction.centerPoint=new Point(Interaction.boundary.bounds.x+Interaction.boundary.bounds.width*.5,Interaction.boundary.bounds.y+Interaction.boundary.bounds.height*.5),Interaction.createTool(),Interaction.setRandomGenerator(19),Interaction.prepareNextQuestion()},nextQuestion:function(e){Interaction.path&&Interaction.path.remove();if(Interaction.cornerPoints)for(var t=0;t<Interaction.cornerPoints.length;t++)Interaction.cornerPoints[t].remove();Interaction.button.className="next_button",Interaction.button.onclick=Interaction.prepareNextQuestion;var n=Interaction.generateShape(e),r=new Path;for(var t=0;t<n.length;t++){var i=n[t].p.multiply(Interaction.size,Interaction.size).add(Interaction.referencePoint);r.add(i),n[t].p=i}r.closed=!0,r.set_style(interactionPathStyle),Interaction.path=r,Interaction.path.centerPoint=Util.centerOfPoints(extricatePoints(n));var s=Interaction.centerPoint.subtract(Interaction.path.centerPoint);Interaction.path.position=Interaction.path.position.add(s),Interaction.cornerPoints=[];for(var t=0;t<n.length;t++){n[t].p=n[t].p.add(s);var o=new Path.Circle(n[t].p,6);o.opacity=n[t].opacity,o.set_style(interactionCircleStyle),o.class="cornerPoint",Interaction.cornerPoints.push(o)}Interaction.path.centerPoint=Util.centerOfPoints(extricatePoints(n))},preCheck:function(){},isAnswerCorrect:function(e){},onCorrectAnswer:function(){},onWrongAnswer:function(){},onFail:function(){},drawPathFromPoints:function(e){var t=new Path;for(var n=0;n<e.length;n++)t.add(e[n]);return t.closed=!0,t.set_style(interactionPathStyle),t.centerPoint=Util.centerOfPoints(e),t},createTool:function(){var e=new Tool;e.onMouseDown=function(e){this.drag=!1;if(e.item&&e.item.class=="cornerPoint"){this.drag=!0,this.initialDistance=Interaction.path.centerPoint.getDistance(e.point);for(var t=0;t<Interaction.cornerPoints.length;t++)Interaction.cornerPoints[t].initialPosition=Interaction.cornerPoints[t].position}},e.onMouseDrag=function(e){if(this.drag==1){this.currentDistance=Interaction.path.centerPoint.getDistance(e.point);if(this.currentDistance<25)return;var t=this.currentDistance/this.initialDistance;for(var n=0;n<Interaction.cornerPoints.length;n++)if(!Interaction.boundary.bounds.contains(Interaction.cornerPoints[n].initialPosition.scale(t,Interaction.path.centerPoint))){console.log("the area is overflowed");return}var r=[];for(var n=0;n<Interaction.cornerPoints.length;n++)Interaction.cornerPoints[n].position=Interaction.cornerPoints[n].initialPosition.scale(t,Interaction.path.centerPoint),r.push(Interaction.cornerPoints[n].position);Interaction.path.remove(),Interaction.path=Interaction.drawPathFromPoints(r);for(var n=0;n<Interaction.cornerPoints.length;n++)Interaction.cornerPoints[n].insertAbove(Interaction.path)}},e.onMouseUp=function(e){this.drag=!1},e.activate(),Interaction.tool=e},generateShape:function(e){if(e<11){var t=InteractiveGrids.CreateShape(e),n=[];for(var r=0;r<t.length;r++)n.push({p:t[r],opacity:1});return n}var t=[];switch(e){case 11:t.push({p:new Point(0,0),opacity:1}),t.push({p:new Point(0,1),opacity:0}),t.push({p:new Point(0,2),opacity:0}),t.push({p:new Point(0,3),opacity:0}),t.push({p:new Point(0,4),opacity:1}),t.push({p:new Point(1,4),opacity:0}),t.push({p:new Point(2,4),opacity:0}),t.push({p:new Point(3,4),opacity:0}),t.push({p:new Point(4,4),opacity:1}),t.push({p:new Point(4,2),opacity:1}),t.push({p:new Point(2,2),opacity:1}),t.push({p:new Point(2,0),opacity:1});break;case 12:t.push({p:new Point(3,0),opacity:1}),t.push({p:new Point(4,2),opacity:1}),t.push({p:new Point(6,2),opacity:1}),t.push({p:new Point(4.3,3),opacity:1}),t.push({p:new Point(5,5),opacity:1}),t.push({p:new Point(3,3.8),opacity:1}),t.push({p:new Point(1,5),opacity:1}),t.push({p:new Point(1.6,3),opacity:1}),t.push({p:new Point(0,2),opacity:1}),t.push({p:new Point(2,2),opacity:1});break;case 13:t.push({p:new Point(0,1),opacity:1}),t.push({p:new Point(0,3),opacity:1}),t.push({p:new Point(3,3),opacity:1}),t.push({p:new Point(3,4),opacity:1}),t.push({p:new Point(5,2),opacity:1}),t.push({p:new Point(3,0),opacity:1}),t.push({p:new Point(3,1),opacity:1});break;case 14:t.push({p:new Point(1,0),opacity:1}),t.push({p:new Point(0,2),opacity:1}),t.push({p:new Point(1,4),opacity:1}),t.push({p:new Point(2,2),opacity:1});break;case 15:t.push({p:new Point(2,0),opacity:1}),t.push({p:new Point(0,2),opacity:1}),t.push({p:new Point(0,4),opacity:1}),t.push({p:new Point(4,4),opacity:1}),t.push({p:new Point(4,2),opacity:1});break;case 16:t.push({p:new Point(0,0),opacity:1}),t.push({p:new Point(1,0),opacity:0}),t.push({p:new Point(2,0),opacity:0}),t.push({p:new Point(3,0),opacity:1}),t.push({p:new Point(3,1),opacity:1}),t.push({p:new Point(2,1),opacity:1}),t.push({p:new Point(2,2),opacity:1}),t.push({p:new Point(1,2),opacity:1}),t.push({p:new Point(1,1),opacity:1}),t.push({p:new Point(0,1),opacity:1});break;case 17:t.push({p:new Point(0,0),opacity:1}),t.push({p:new Point(1,0),opacity:0}),t.push({p:new Point(2,0),opacity:1}),t.push({p:new Point(2,1),opacity:1}),t.push({p:new Point(3,1),opacity:1}),t.push({p:new Point(3,2),opacity:1}),t.push({p:new Point(2,2),opacity:0}),t.push({p:new Point(1,2),opacity:1}),t.push({p:new Point(1,1),opacity:1}),t.push({p:new Point(0,1),opacity:1});break;case 18:t.push({p:new Point(0,1),opacity:1}),t.push({p:new Point(0,2),opacity:1}),t.push({p:new Point(1,2),opacity:0}),t.push({p:new Point(2,2),opacity:0}),t.push({p:new Point(3,2),opacity:1}),t.push({p:new Point(3,1),opacity:0}),t.push({p:new Point(3,0),opacity:1}),t.push({p:new Point(2,0),opacity:1}),t.push({p:new Point(2,1),opacity:1}),t.push({p:new Point(1,1),opacity:0})}return t}};